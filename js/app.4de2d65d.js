(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],f=0,p=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0fc8":function(t,e,r){"use strict";r("92d1")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("c975");var a=r("2b0e"),n=r("bc3a"),s=r.n(n),o=r("130e"),i=r("8c4f"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"profile-name"},[t._v(t._s(t.nick))]),r("div",{staticClass:"profile"},[r("div",{staticClass:"profile-left"},[r("img",{attrs:{src:t.avatar}}),r("div",{staticClass:"profile-left-following"},[r("div",{staticClass:"profile-left-following-name"},[t._v("Following")]),r("div",{staticClass:"profile-left-following-count"},[t._v(t._s(t.count_follow)+" users")]),r("div",{staticClass:"profile-left-follows"},t._l(t.follow,(function(e){return r("div",{key:e.user,staticClass:"profile-left-follow"},[r("img",{attrs:{src:"/avatar.svg"}}),r("a",{attrs:{href:"/?url="+e.link}},[t._v(t._s(e.user))])])})),0)])]),r("div",{staticClass:"profile-right"},[r("div",{staticClass:"profile-right-info"},[r("h2",{staticClass:"profile-right-name"},[t._v(t._s(t.nick))]),r("table",{staticClass:"profile-right-about"},[r("tbody",[r("tr",[r("td",[t._v("About:")]),r("td",[t._v(t._s(t.description))])]),r("tr",[r("td",[t._v("Link:")]),r("td",[t._v(t._s(t.url))])])])])]),r("div",{staticClass:"profile-right-posts"},[r("div",{staticClass:"profile-right-wall"},[t._v("Wall "),r("span",[t._v(t._s(t.count_posts)+" posts")])]),t._l(t.posts,(function(e){return r("div",{key:e.date,staticClass:"profile-right-post"},[r("img",{attrs:{src:t.avatar}}),r("div",[r("p",[t._v(t._s(t.nick))]),r("p",{domProps:{innerHTML:t._s(e.text)}}),r("p",[t._v(" "+t._s(new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}))+" ")])])])}))],2)])])])},l=[],u=r("1da1"),f=(r("96cf"),r("ac1f"),r("466d"),r("a4d3"),r("e01a"),r("4160"),r("d3b7"),r("159b"),r("5319"),r("99af"),r("26e9"),r("7c5c")),p={name:"Home",data:function(){return{url:"",nick:"TWTXT User",avatar:"/avatar.svg",description:"",count_follow:0,follow:[],count_posts:0,posts:[]}},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.url=t.$route.query.url,e.next=3,s.a.get("https://api.allorigins.win/get?url=".concat(t.url)).then((function(e){var r=e.data.contents,a=r.match(/(\#\s+nick\s+=\s)(~?[A-Za-z0-9]+)/);t.nick=null!=a?a[2]:"",document.title=t.nick+" - TWTVK";var n=r.match(/(\#\s+avatar\s+=\s)(.+)/);t.avatar=null!=n?n[2]:"/avatar.svg";var s=r.match(/(\#\s+description\s+=\s)(.+)/);t.description=null!=s?s[2]:"";for(var o=r.match(/(\#\s+follow\s+=\s)(.+)/g)||[],i=0;i<o.length&&i<6;i++){var c=o[i].match(/([A-Za-z]+)\s((http:|https:)+[^\s]+[\w])/);null!=c&&t.follow.push({user:c[1],link:c[2]})}t.count_follow=o.length;var l=r.match(/([0-9]+-[0-9].-[0-9].T[0-9].:[0-9].:[0-9].Z)\t(.+)/g)||[];l.forEach((function(e){var r=e.match(/([0-9]+-[0-9].-[0-9].T[0-9].:[0-9].:[0-9].Z)\t(.+)/)[1],a=e.match(/([0-9]+-[0-9].-[0-9].T[0-9].:[0-9].:[0-9].Z)\t(.+)/)[2],n=a.match(/@<(~?[A-Za-z0-9_]+)\s((http:|https:|gemini:)+[^\s]+[\w])>/g)||[];n.forEach((function(t){var e=t.match(/@<(~?[A-Za-z0-9_]+)\s((http:|https:|gemini:)+[^\s]+[\w])>/);a=a.replace(e[0],'<a class="profile-right-post-user" href="/?url='.concat(e[2],'">@').concat(e[1],"</a>"))}));var s=a.match(/#<([A-Za-z0-9]+)\s((http:|https:)+[^\s]+[\w])>/g)||[];s.forEach((function(t){var e=t.match(/#<([A-Za-z0-9]+)\s((http:|https:)+[^\s]+[\w])>/);a=a.replace(e[0],'<a href="'.concat(e[2],'">#').concat(e[1],"</a>"))})),a=f["marked"].parse(a),t.posts.push({date:r,text:a})})),t.posts=t.posts.reverse(),t.count_posts=t.posts.length}))["catch"]((function(t){console.error(t)}));case 3:case"end":return e.stop()}}),e)})))()}},h=p,v=(r("89f1"),r("2877")),d=Object(v["a"])(h,c,l,!1,null,null,null),m=d.exports,w=[{path:"/",name:"home",component:m}],_=new i["a"]({history:!0,mode:"history",routes:w}),g=_,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"twt-page"},[t._m(0),r("div",{staticClass:"twt-body"},[t._m(1),r("div",{staticClass:"twt-profile"},[r("router-view")],1)])])])},y=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"twt-header"},[r("img",{attrs:{src:"/logo.png"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"twt-about"},[r("a",{attrs:{href:"https://twtxt.readthedocs.io/en/latest/"}},[t._v("Twtxt spec")]),r("a",{attrs:{href:"https://github.com/buckket/twtxt"}},[t._v("Twtxt GitHub")]),r("a",{attrs:{href:""}},[t._v("Twtvk Github")])])}],k={name:"Index"},C=k,x=(r("0fc8"),Object(v["a"])(C,b,y,!1,null,null,null)),O=x.exports;a["a"].router=g,a["a"].use(i["a"]),a["a"].use(o["a"],s.a),(window.location.href.indexOf("twtvk.cipherdogs.net")>-1||window.location.href.indexOf("ost:")>-1)&&new a["a"]({render:function(t){return t(O)},el:"#app",router:g})},"89f1":function(t,e,r){"use strict";r("fca2")},"92d1":function(t,e,r){},fca2:function(t,e,r){}});
//# sourceMappingURL=app.4de2d65d.js.map